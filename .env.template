# ================================================
# LEGO Factory - Environment Configuration Template
# ================================================
# Copy this file to .env and customize for your environment
# 
# Profiles:
#   - Default (no profile): Development settings
#   - SPRING_PROFILES_ACTIVE=dev: Development with debug logging
#   - SPRING_PROFILES_ACTIVE=prod: Production optimized
#   - SPRING_PROFILES_ACTIVE=cloud: Cloud-native (AWS/Azure/GCP)
# ================================================

# ================================
# Service Ports
# ================================
API_GATEWAY_PORT=8011
USER_SERVICE_PORT=8012
MASTERDATA_SERVICE_PORT=8013
INVENTORY_SERVICE_PORT=8014
ORDER_PROCESSING_SERVICE_PORT=8015
SIMAL_SERVICE_PORT=8016

# ================================
# Spring Profile
# ================================
# Options: dev, prod, cloud
SPRING_PROFILES_ACTIVE=dev

# ================================
# Order Processing Thresholds
# ================================
# Lot size threshold for Scenario 4 (Direct Production)
# Orders >= this quantity bypass Warehouse Order
LOT_SIZE_THRESHOLD=3

# Maximum items per order
MAX_ORDER_ITEMS=100

# Stock reservation timeout (minutes)
STOCK_RESERVE_MINUTES=30

# Safety margin for stock calculations (percent)
STOCK_SAFETY_MARGIN=10

# Maximum retries for failed operations
MAX_RETRIES=3

# ================================
# External Service Timeouts (ms)
# ================================
MASTERDATA_READ_TIMEOUT=5000
MASTERDATA_WRITE_TIMEOUT=10000
INVENTORY_READ_TIMEOUT=3000
INVENTORY_WRITE_TIMEOUT=10000
SIMAL_SCHEDULE_TIMEOUT=30000
SIMAL_TASK_UPDATE_TIMEOUT=5000
USER_SERVICE_TIMEOUT=3000

# ================================
# Workstation IDs
# ================================
# Manufacturing (WS-1 to WS-3)
WS_INJECTION_MOLDING=1
WS_PARTS_PRE_PRODUCTION=2
WS_PART_FINISHING=3

# Assembly (WS-4 to WS-6)
WS_GEAR_ASSEMBLY=4
WS_MOTOR_ASSEMBLY=5
WS_FINAL_ASSEMBLY=6

# Warehouse (WS-7 to WS-9)
WS_PLANT_WAREHOUSE=7
WS_MODULES_SUPERMARKET=8
WS_PARTS_SUPPLY=9

# ================================
# Feature Flags
# ================================
ENABLE_CACHING=false
ENABLE_ASYNC=false
ENABLE_CIRCUIT_BREAKER=false
ENABLE_METRICS=true
ENABLE_DETAILED_LOGGING=true
ENABLE_AUTO_STATUS_PROPAGATION=true

# ================================
# Order Number Configuration
# ================================
CUSTOMER_ORDER_PREFIX=ORD-
WAREHOUSE_ORDER_PREFIX=WO-
PRODUCTION_ORDER_PREFIX=PO-
FINAL_ASSEMBLY_ORDER_PREFIX=FA-
SUPPLY_ORDER_PREFIX=SO-
ORDER_NUMBER_SUFFIX_LENGTH=8

# ================================
# Database (H2 Development)
# ================================
H2_DB_ORDER_PROCESSING_PATH=jdbc:h2:mem:order_processing_db;DB_CLOSE_DELAY=-1
SPRING_JPA_HIBERNATE_DDL_AUTO=create-drop
SPRING_JPA_SHOW_SQL=true
SPRING_H2_CONSOLE_ENABLED=true
SPRING_H2_CONSOLE_PATH=/h2-console

# ================================
# Logging
# ================================
LOG_LEVEL_ROOT=INFO
LOGGING_LEVEL_IO_LIFE=DEBUG

# ================================
# Security (JWT)
# ================================
# CRITICAL: Change in production!
SECURITY_JWT_SECRET=MySecretKeyForJWTTokenGeneration2024AtLeast32Characters
SECURITY_JWT_EXPIRATION=PT1H

# ================================
# Actuator & Management
# ================================
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=always

# ================================
# JMX (disabled by default)
# ================================
SPRING_JMX_ENABLED=false

# ================================
# SimAL Integration
# ================================
SIMAL_API_BASE_URL=http://simal-integration-service:8016/api

# ================================
# Docker Registry (for deployment)
# ================================
DOCKER_REGISTRY=192.168.1.237:5000

# ================================
# Cloud-Specific (when SPRING_PROFILES_ACTIVE=cloud)
# ================================
# DATABASE_URL=jdbc:postgresql://host:5432/db
# DATABASE_USERNAME=user
# DATABASE_PASSWORD=secret
# DATABASE_DRIVER=org.postgresql.Driver
# JPA_DIALECT=org.hibernate.dialect.PostgreSQLDialect

# Redis/ElastiCache
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_SSL=false
# CACHE_TYPE=redis

# Distributed Tracing
# ENABLE_TRACING=true
# ZIPKIN_URL=http://zipkin:9411

# OAuth2/OIDC (if using external identity provider)
# JWT_ISSUER_URI=https://auth.example.com
